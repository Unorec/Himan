<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HiMANÁÆ°ÁêÜÁ≥ªÁµ± - ‰∏ªÊéßÂè∞</title>
    <!-- ÂÖàËºâÂÖ• Tailwind -->
    <link href="./css/tailwind.css" rel="stylesheet">
    <!-- ÂÜçËºâÂÖ•Ëá™Ë®ÇÊ®£Âºè -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/entry-form.css">
    <link rel="stylesheet" href="css/entry-records.css">
    <link rel="stylesheet" href="css/entry-records/active-lockers.css">
    <link rel="stylesheet" href="css/entry-records/history.css">
    <link rel="stylesheet" href="css/entry-records/time-tracking.css">
    <link rel="stylesheet" href="css/entry-records/temp-leave.css">
    <!-- ‰øÆÊ≠£ÈåØË™§ËôïÁêÜËÖ≥Êú¨ -->
    <script>
        window.addEventListener('error', function(e) {
            if (e.filename && e.filename.startsWith('chrome-error://')) {
                e.preventDefault();
                console.warn('Ignored chrome-error protocol message');
            }
        });
    </script>
</head>
<body class="bg-gray-50">
    <div id="mainSystem" class="flex h-screen">
        <!-- ÂÅ¥ÈÇäÂ∞éËà™ÂçÄ -->
        <aside class="sidebar">
            <div class="p-6">
                <h1 class="text-2xl font-bold text-gray-800">HiMAN Á≥ªÁµ±</h1>
                <p class="text-sm text-gray-500 mt-1">ÂÑ™ÈõÖÁöÑÁÆ°ÁêÜÈ´îÈ©ó</p>
            </div>
            
            <nav class="mt-6" id="mainNav">
                <button class="nav-item active" data-page="entryForm">
                    <span class="icon">üìù</span>
                    <span class="nav-text">ÂÖ•Â†¥ÁôªË®ò</span>
                </button>
                <button class="nav-item" data-page="recordsSection">
                    <span class="icon">üìÖ</span>
                    <span class="nav-text">Á¥ÄÈåÑÊü•Ë©¢</span>
                </button>
                <button class="nav-item" data-page="statsSection">
                    <span class="icon">üìä</span>
                    <span class="nav-text">ÁáüÊ•≠Â†±Ë°®</span>
                </button>
                <button class="nav-item" data-page="ticketsSection">
                    <span class="icon">üé´</span>
                    <span class="nav-text">Á•®Âà∏ÁÆ°ÁêÜ</span>
                </button>
            </nav>

            <!-- ÁôªÂá∫ÊåâÈàï -->
            <div class="logout-section">
                <button class="nav-item logout-btn" id="logoutBtn">
                    <span class="icon">üö™</span>
                    <span class="nav-text">ÁôªÂá∫Á≥ªÁµ±</span>
                </button>
            </div>
        </aside>

        <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂüü -->
        <main class="flex-1">
            <!-- ÂÖ•Â†¥ÁôªË®òÈ†ÅÈù¢ -->
            <div id="entryFormPage" class="page-container active">
                <div class="page-content">
                    <!-- ÂéüÊúâÁöÑÂÖ•Â†¥ÁôªË®òË°®ÂñÆÂÖßÂÆπ -->
                    <!-- ÈÄöÁü•ÊèêÁ§∫ÁöÑÂÑ™ÈõÖÂ±ïÁèæ -->
                    <div id="notification" class="notification hidden"></div>
                    
                    <!-- ÂÖ•Â†¥ÁôªË®òË°®ÂñÆ (È†êË®≠È°ØÁ§∫) -->
                    <div id="entryForm" class="page-section active">
                        <form id="registrationForm" class="entry-form">
                            <!-- Ê´É‰ΩçËôüÁ¢ºÂíåÊôÇÈñìÈ°ØÁ§∫ÂçÄÂüü -->
                            <div class="entry-header">
                                <div class="locker-time-container">
                                    <div class="locker-section">
                                        <label for="lockerNumber" class="form-label">Ê´É‰ΩçËôüÁ¢º</label>
                                        <input type="number" id="lockerNumber" class="locker-input" min="1" max="500" required>
                                    </div>
                                    <div class="current-datetime">
                                        <div class="date-display">
                                            <span id="currentDate" class="date"></span>
                                        </div>
                                        <div class="time-display">
                                            <span id="currentTime" class="time"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ÂÖ•Â†¥ÊôÇÈñìÈ°ØÁ§∫ -->
                            <div class="form-group entry-time">
                                <label for="entryTime" class="form-label">ÂÖ•Â†¥ÊôÇÈñì</label>
                                <input type="text" id="entryTime" class="form-input" readonly>
                                <div id="discountPeriod" class="price-info">
                                    <div class="price-header">
                                        <span class="time-badge"></span>
                                        <span class="discount-badge"></span>
                                    </div>
                                    <div class="price-details">
                                        <span id="currentPrice"></span>
                                    </div>
                                </div>
                            </div>

                            <!-- ‰ªòÊ¨æË≥áË®äÂçÄÂ°ä -->
                            <section class="payment-section form-section">
                                <h3 class="section-title">‰ªòÊ¨æË≥áË®ä</h3>
                                <div class="payment-options">
                                    <label class="radio-label">
                                        <input type="radio" name="paymentType" value="cash" checked>
                                        <span>ÁèæÈáë‰ªòÊ¨æ</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="paymentType" value="ticket">
                                        <span>Á•®Âà∏‰ΩøÁî®</span>
                                    </label>
                                </div>

                                <!-- Á•®Âà∏Ëº∏ÂÖ•ÂçÄÂüü -->
                                <div id="ticketArea" class="payment-content" style="display: none;">
                                    <div class="form-group">
                                        <label class="form-label" for="ticketNumber">Á•®Âà∏Á∑®Ëôü</label>
                                        <input type="text" id="ticketNumber" class="form-input" placeholder="Ë´ãËº∏ÂÖ•Á•®Âà∏Á∑®Ëôü">
                                    </div>   
                                </div>

                                <!-- ÁèæÈáë‰ªòÊ¨æÂçÄÂüü -->
                                <div id="cashArea" class="payment-content">
                                    <div class="amount-container">
                                        <div class="form-group">
                                            <label class="form-label" for="amount">ÈáëÈ°ç</label>
                                            <input type="number" id="amount" class="form-input" required>
                                        </div>
                                        <div class="custom-amount">
                                            <input type="checkbox" id="customAmount">
                                            <label for="customAmount">Ëá™Ë°åËº∏ÂÖ•ÈáëÈ°ç</label>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- ÂÇôË®ªÂçÄÂüüÁßªÂãïÂà∞ÈÄôË£° -->
                            <section class="form-section"></section>
                                <h3 class="section-title">ÂÇôË®ªË™™Êòé</h3>
                                <div class="remarks-area">
                                    <textarea id="remarks" class="form-textarea" placeholder="Ë´ãËº∏ÂÖ•ÂÇôË®ª‰∫ãÈ†Ö..."></textarea>
                                </div>
                            </section>

                            <!-- Á¢∫Ë™çÊåâÈàïÂçÄÂ°ä -->
                            <section class="action-section">
                                <button type="submit" class="btn btn-primary">Á¢∫Ë™çÁôªË®ò</button>
                            </section>
                        </form>
                    </div>
                </div>
            </div>

            <!-- ‰ΩøÁî®‰∏≠Ê´É‰ΩçÈ†ÅÈù¢ -->
            <div id="activeLockerPage" class="page-container">
                <div class="page-content">
                    <!-- ‰ΩøÁî®‰∏≠Ê´É‰ΩçÂÖßÂÆπ -->
                </div>
            </div>

            <!-- Ê≠∑Âè≤Ë®òÈåÑÈ†ÅÈù¢ -->
            <div id="historyPage" class="page-container">
                <div class="page-content">
                    <!-- Ê≠∑Âè≤Ë®òÈåÑÂÖßÂÆπ -->
                </div>
            </div>

            <!-- Êö´ÊôÇÂ§ñÂá∫È†ÅÈù¢ -->
            <div id="tempLeavePage" class="page-container">
                <div class="page-content">
                    <!-- Êö´ÊôÇÂ§ñÂá∫ÂÖßÂÆπ -->
                </div>
            </div>
        </main>
    </div>

    <!-- Ë≤ªÁî®ÊòéÁ¥∞Â∞çË©±Ê°Ü -->
    <div id="feeDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ë≤ªÁî®ÊòéÁ¥∞</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="fee-details">
                    <!-- ...existing code... -->
                </div>
            </div>
        </div>
    </div>

    <!-- ‰øÆÊîπËÖ≥Êú¨ÂºïÁî®È†ÜÂ∫è -->
    <script src="js/core/system.js" type="module"></script>
    <script src="js/modules/auth.js" type="module"></script>
    <script src="js/modules/checkin.js" type="module"></script>
    <script src="js/modules/storage.js" type="module"></script>
    <script src="js/entry.js" type="module"></script>
</body>
</html>